<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Sandbox - –û—Ç—á–µ—Ç</title>
    <link rel="stylesheet" href="site.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1 class="main-title">Authentication Sandbox</h1>
                <p class="subtitle">–û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</p>
                <div class="bear-mascot">üêª</div>
            </div>
        </header>
        <nav class="navigation">
            <ul>
                <li><a href="#task" class="nav-link">–ó–∞–¥–∞–Ω–∏–µ</a></li>
                <li><a href="#changes" class="nav-link">–ò–∑–º–µ–Ω–µ–Ω–∏—è</a></li>
                <li><a href="#testing" class="nav-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <section id="task" class="section task-section">
                <div class="section-header">
                    <h2 class="section-title">1. –ó–∞–¥–∞–Ω–∏–µ</h2>
                    <div class="section-decoration">üìã</div>
                </div>
                <div class="task-content">
                    <div class="task-image-container">
                        <img src="Photos/Task.png" alt="–ó–∞–¥–∞–Ω–∏–µ" class="task-image">
                    </div>
                </div>
            </section>

            <section id="changes" class="section changes-section">
                <div class="section-header">
                    <h2 class="section-title">2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö</h2>
                    <div class="section-decoration">üîß</div>
                </div>
                <div class="changes-content">
                    <div class="changes-text">
                        <h3>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:</h3>
                        
                        <div class="change-item">
                            <h4>1. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å MongoDB –¥–ª—è IUserRepository</h4>
                            <p>–°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å <code>MongoUserRepository</code>, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>IUserRepository</code> –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å MongoDB. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.</p>
                            
                            <div class="code-block">
                                <h5>MongoUserRepository.cs - –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:</h5>
                                <pre><code>public class MongoUserRepository : IUserRepository
{
    private readonly IMongoCollection&lt;User&gt; _users;

    public MongoUserRepository(IConfiguration configuration)
    {
        string? connectionString = configuration["Mongo:ConnectionString"] ?? "mongodb://localhost:27017";
        string databaseName = configuration["Mongo:Database"] ?? "AuthenticationSandbox";

        MongoClient client = new MongoClient(connectionString);
        IMongoDatabase database = client.GetDatabase(databaseName);
        _users = database.GetCollection&lt;User&gt;("users");

        EnsureIndexes();
    }

    private void EnsureIndexes()
    {
        // unique index on Login
        IndexKeysDefinition&lt;User&gt; keys = Builders&lt;User&gt;.IndexKeys.Ascending(u => u.Login);
        CreateIndexModel&lt;User&gt; model = new CreateIndexModel&lt;User&gt;(keys, new CreateIndexOptions { Unique = true });
        _users.Indexes.CreateOne(model);
    }

    public async Task&lt;User?&gt; GetByLogin(string login)
    {
        return await _users.Find(u => u.Login == login).FirstOrDefaultAsync();
    }

    public async Task Insert(User user)
    {
        await _users.InsertOneAsync(user);
    }

    public async Task&lt;List&lt;User&gt;&gt; SelectAll()
    {
        return await _users.Find(Builders&lt;User&gt;.Filter.Empty).ToListAsync();
    }

    public async Task&lt;int&gt; CountAdmins()
    {
        long count = await _users.CountDocumentsAsync(u => u.IsAdmin);
        return (int)count;
    }

    public async Task SetAdmin(string login, bool isAdmin)
    {
        FilterDefinition&lt;User&gt; filter = Builders&lt;User&gt;.Filter.Eq(u => u.Login, login);
        UpdateDefinition&lt;User&gt; update = Builders&lt;User&gt;.Update.Set(u => u.IsAdmin, isAdmin);
        await _users.UpdateOneAsync(filter, update);
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="change-item">
                            <h4>2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ MongoDB –≤ –ø—Ä–æ–µ–∫—Ç</h4>
                            <p>–í <code>Program.cs</code> –∑–∞–º–µ–Ω–µ–Ω–∞ –∑–∞–≥–ª—É—à–∫–∞ <code>UserRepositoryStub</code> –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é <code>MongoUserRepository</code>:</p>
                            
                            <div class="code-block">
                                <h5>Program.cs - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤:</h5>
                                <pre><code>builder.Services.AddControllers();
builder.Services.AddSingleton&lt;UserService&gt;();
builder.Services.AddSingleton&lt;IUserRepository, MongoUserRepository&gt;();
builder.Services.AddSingleton&lt;IEncoder, MD5&gt;();</code></pre>
                            </div>
                        </div>

                        <div class="change-item">
                            <h4>3. –§—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—Å–Ω—è—Ç–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∞–¥–º–∏–Ω–∞</h4>
                            <p>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ <code>SetAdmin</code> –≤ <code>UserService</code> —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</p>
                            
                            <div class="code-block">
                                <h5>UserService.cs - –ú–µ—Ç–æ–¥ SetAdmin:</h5>
                                <pre><code>public async Task SetAdmin(string login, bool isAdmin)
{
    User? user = await _repository.GetByLogin(login);
    if (user == null)
    {
        throw new UserNotFoundException();
    }

    if (!isAdmin && user.IsAdmin)
    {
        int admins = await _repository.CountAdmins();
        if (admins <= 1)
        {
            throw new LastAdminRemovalException();
        }
    }

    await _repository.SetAdmin(login, isAdmin);
}</code></pre>
                            </div>
                        </div>
                        <div class="change-item">
                            <h4>4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ</h4>
                            <p>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
                            
                            <div class="code-block">
                                <h5>Program.cs - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞:</h5>
                                <pre><code>using (var scope = app.Services.CreateScope())
{
    var users = scope.ServiceProvider.GetRequiredService&lt;IUserRepository&gt;();
    var service = scope.ServiceProvider.GetRequiredService&lt;UserService&gt;();
    if (await users.CountAdmins() == 0)
    {
        string adminApiKey = await service.Register("admin", true);
        Console.WriteLine("admin has been created successfully, admin api key: " + adminApiKey);
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="diagram-container">
                        <h3>–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–ª–∞—Å—Å–æ–≤:</h3>
                        <img src="Photos/class_diagram.png" alt="–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–ª–∞—Å—Å–æ–≤" class="diagram-image">
                        <p class="diagram-note">üí° –î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</p>
                    </div>
                </div>
            </section>

            <section id="testing" class="section testing-section">
                <div class="section-header">
                    <h2 class="section-title">3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</h2>
                    <div class="section-decoration">üß™</div>
                </div>
                <div class="testing-content">
                    <div class="test-category">
                        <h3 class="test-category-title positive">‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
                        <div class="test-grid">
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–ü—É–±–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ç—É—Å API</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK, —Å—Ç–∞—Ç—É—Å</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get api.png" alt="–¢–µ—Å—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ API">
                                </div>
                            </div>
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–ü—É–±–ª–∏—á–Ω—ã–π ping</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/ping</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK, pong</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get ping.png" alt="–¢–µ—Å—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ ping">
                                </div>
                            </div>
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "user123"}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK, –≤–æ–∑–≤—Ä–∞—Ç API –∫–ª—é—á–∞</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post user.png" alt="–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                                </div>
                            </div>
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—É</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/protected</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> X-Api-Key: valid_key</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK, —Å—Ç–∞—Ç—É—Å</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get api protected.png" alt="–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—É">
                                </div>
                            </div>
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É ping</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/protected/ping</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> X-Api-Key: valid_key</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK, pong</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get api protected ping.png" alt="–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É ping">
                                </div>
                            </div>
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–º–∏–Ω)</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/user/all</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> X-Api-Key: admin_key</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK, —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get api user all.png" alt="–¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π">
                                </div>
                            </div>
                            <div class="test-card positive">
                                <div class="test-card-content">
                                    <h4>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user/admin</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "user123", "isAdmin": true}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 200 OK</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user admin true.png" alt="–¢–µ—Å—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="test-category">
                        <h3 class="test-category-title negative">‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
                        <div class="test-grid">
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø—É—Å—Ç—ã–º –ª–æ–≥–∏–Ω–æ–º</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": ""}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 400 Bad Request</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> InvalidLoginException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user empty login.png" alt="–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –ø—É—Å—Ç—ã–º –ª–æ–≥–∏–Ω–æ–º">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –∫–æ—Ä–æ—Ç–∫–∏–º –ª–æ–≥–∏–Ω–æ–º</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "ab"}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 400 Bad Request</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> InvalidLoginException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user login ab.png" alt="–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –∫–æ—Ä–æ—Ç–∫–∏–º –ª–æ–≥–∏–Ω–æ–º">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –¥–ª–∏–Ω–Ω—ã–º –ª–æ–≥–∏–Ω–æ–º</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "verylongusername123"}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 400 Bad Request</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> InvalidLoginException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user login verylongusername123.png" alt="–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –¥–ª–∏–Ω–Ω—ã–º –ª–æ–≥–∏–Ω–æ–º">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "user@123"}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 400 Bad Request</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> InvalidLoginException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user login with dog sign.png" alt="–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–Ω–∞</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "existing_user"}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 409 Conflict</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> DuplicatedLoginException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/DuplicatedLoginException.png" alt="–¢–µ—Å—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–Ω–∞">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "user123" (–Ω–µ–∑–∞–∫—Ä—ã—Ç–∞—è —Å–∫–æ–±–∫–∞)</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 400 Bad Request</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> JSON parsing error</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user wrong json.png" alt="–¢–µ—Å—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ JSON">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–î–æ—Å—Ç—É–ø –±–µ–∑ API –∫–ª—é—á–∞</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/protected</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 400 Bad Request</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> InvalidApiKeyHeader</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/empty X-Api-Key.png" alt="–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ API –∫–ª—é—á–∞">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/protected</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> X-Api-Key: invalid_key</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 401 Unauthorized</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> UserNotFoundException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get api protected with invalid key.png" alt="–¢–µ—Å—Ç –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ API –∫–ª—é—á–∞">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω—Å–∫–æ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—É –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> GET /api/user/all</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> X-Api-Key: user_key</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 403 Forbidden</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> AccessDenied</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/get api user all with common user key.png" alt="–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω—Å–∫–æ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—É">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user/admin</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "user123", "isAdmin": true}</p>
                                    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> X-Api-Key: user_key</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 403 Forbidden</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> AccessDenied</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user admin with common user key.png" alt="–¢–µ—Å—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞ –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user/admin</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "nonexistent_user", "isAdmin": true}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 404 Not Found</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> UserNotFoundException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/post api user admin nonexistent_user.png" alt="–¢–µ—Å—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é">
                                </div>
                            </div>
                            <div class="test-card negative">
                                <div class="test-card-content">
                                    <h4>–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–¥–º–∏–Ω–∞</h4>
                                    <p><strong>–ú–µ—Ç–æ–¥:</strong> POST /api/user/admin</p>
                                    <p><strong>–¢–µ–ª–æ:</strong> {"login": "last_admin", "isAdmin": false}</p>
                                    <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 409 Conflict</p>
                                    <p><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:</strong> LastAdminRemovalException</p>
                                </div>
                                <div class="test-card-image">
                                    <img src="Photos/Tests/LastAdminRemovalException.png" alt="–¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–¥–º–∏–Ω–∞">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <p>&copy; 2025 Authentication Sandbox Project</p>
                <p>–°–æ–∑–¥–∞–Ω–æ –≤ —Å—Ç–∏–ª–µ The College Dropout</p>
            </div>
        </footer>
    </div>

    <script src="site.js"></script>
</body>
</html>